#include "bootloader.asm"

loop:
  SET A, 0x3001   ; Read Char
  SET PUSH, 1     ; block and wait for a key to be pressed
  INT 0x4743      ; invoke BBOS
  SET B, POP      ; get result and store in B
  BOR B, 0xF000   ; Binary OR in format
  SET A, 0x1003   ; Write Char
  SET PUSH, B     ; Push character to be written to screen
  SET PUSH, 1     ; Increase cursor position
  INT 0x4743      ; invoke BBOS
  ADD SP, 2       ; clean up stack

    SET PC, loop

